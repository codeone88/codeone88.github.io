"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(M,u,o)=>{o.r(u),o.d(u,{HomePageModule:()=>v});var g=o(6895),m=o(8058),d=o(433),p=o(9430),a=o(1571);const f=[{path:"",component:(()=>{class e{constructor(){this.options=["TABLET","20% DESC","LIBRETA","SMARTPHONE","SIN PREMIO","ORDENADOR","20% DESC","LIBRETA","SMARTPHONE","SIN PREMIO","20% DESC","LIBRETA"],this.startAngle=0,this.arc=Math.PI/(this.options.length/2),this.spinArcStart=10,this.spinAngleStart=10,this.spinTime=0,this.spinTimeTotal=0}ngOnInit(){this.drawRouletteWheel()}iniciar(){this.spinAngleStart=10*Math.random()+10,this.spinTime=0,this.spinTimeTotal=3*Math.random()+8e3,this.rotateWheel()}byte2Hex(t){var s="0123456789ABCDEF";return String(s.substr(t>>4&15,1))+s.substr(15&t,1)}RGB2Color(t,s,r){return"#"+this.byte2Hex(t)+this.byte2Hex(s)+this.byte2Hex(r)}getColor(t,s){var i=2*Math.PI/s,c=127*Math.sin(i*t+2+0)+128,T=127*Math.sin(i*t+0+0)+128,P=127*Math.sin(i*t+4+0)+128;return this.RGB2Color(c,T,P)}drawRouletteWheel(){var t=document.getElementById("canvas");if(t.getContext){this.ctx=t.getContext("2d"),this.ctx.clearRect(0,0,500,500),this.ctx.strokeStyle="black",this.ctx.lineWidth=1,this.ctx.font="bold 12px Helvetica, Arial";for(var n=0;n<this.options.length;n++){var i=this.startAngle+n*this.arc;this.ctx.fillStyle=this.getColor(n,this.options.length),this.ctx.beginPath(),this.ctx.arc(250,250,200,i,i+this.arc,!1),this.ctx.arc(250,250,25,i+this.arc,i,!0),this.ctx.stroke(),this.ctx.fill(),this.ctx.save(),this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.shadowBlur=0,this.ctx.shadowColor="rgb(220,220,220)",this.ctx.fillStyle="black",this.ctx.translate(250+120*Math.cos(i+this.arc/2),250+120*Math.sin(i+this.arc/2)),this.ctx.rotate(i+this.arc/2);var c=this.options[n];this.ctx.fillText(c,-this.ctx.measureText(c).width/2,0),this.ctx.restore()}this.ctx.fillStyle="black",this.ctx.beginPath(),this.ctx.moveTo(246,45),this.ctx.lineTo(254,45),this.ctx.lineTo(254,55),this.ctx.fill()}}rotateWheel(){if(this.spinTime+=30,this.spinTime>=this.spinTimeTotal)this.stopRotateWheel();else{var t=this.spinAngleStart-this.easeOut(this.spinTime,0,this.spinAngleStart,this.spinTimeTotal);this.startAngle+=t*Math.PI/180,this.drawRouletteWheel(),this.spinTimeout=setTimeout(()=>this.rotateWheel(),30)}}stopRotateWheel(){clearTimeout(this.spinTimeout);var t=180*this.startAngle/Math.PI+90,s=180*this.arc/Math.PI;Math.floor((360-t%360)/s),this.ctx.save()}easeOut(t,s,r,h){var n=(t/=h)*t;return s+r*(n*t+-3*n+3*t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-home"]],decls:6,vars:2,consts:[["overflow-scroll","true",3,"fullscreen","forceOverscroll"],[1,"container"],["id","ruleta"],["id","canvas","width","500","height","500"],["id","init-btn",3,"click"]],template:function(t,s){1&t&&(a.TgZ(0,"ion-content",0)(1,"div",1),a._UZ(2,"div",2)(3,"canvas",3),a.TgZ(4,"div",4),a.NdJ("click",function(){return s.iniciar()}),a._uU(5,"Prueba tu suerte"),a.qZA()()()),2&t&&a.Q6J("fullscreen",!0)("forceOverscroll",!1)},dependencies:[m.W2],styles:["#ruleta[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(90deg,#e8b26a,#048acc);width:350px;height:350px;border-radius:350px;left:50%;top:50%;transform:translate(-50%,-50%)}#ruleta.animar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 5s infinite}@keyframes _ngcontent-%COMP%_rotate{0%{transform:translate(-50%,-50%) rotate(0)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(360deg)}}#init-btn[_ngcontent-%COMP%]{position:absolute;background:var(--third);color:var(--primary);padding:10px 15px;border-radius:5px;left:50%;bottom:80px;transform:translate(-50%)}#canvas[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[p.Bz.forChild(f),p.Bz]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[g.ez,d.u5,m.Pc,x]}),e})()}}]);